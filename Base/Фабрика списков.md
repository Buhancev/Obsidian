2022-10-1819:04
Tags: #Java #JavaCoreAdvanced #CollectionAPI 

__
# Фабрика списков
Для создания списка достаточно вызвать фабричный метод List.of
```java
List<String> friends = List.of("semen", "kirill", "yakov");
```

Однако, можно заметить одну странность
```java
List<String> friends = List.of("semen", "kirill", "yakov");
friends.add("Chin-chun")
```
Запуска этого кода вызывает генерацию исключения java.lang.UnsupportedOpera-  
tionException. На самом деле полученный список - неизменяемый. Попытка замены элемента с помощью метода set() приводит к генерации аналогичного исключения. Это ограничение, однако, весьма удобно, поскольку защищает от нежелательных изменений коллекций. Ничто не мешает использовать изменяемые элементы. Если требуется изменяемый список, всегда можно создать его вручную. Наконец, стоит обратить внимание, что пустные (null) элементы не разрешены во избежание неожиданных ошибок и ради большей компактности внутреннего представления.

Может быть вопрос, а не использовать ли StreamAPI вместо новых фабричных методов? К конце концов, есть коллектор Collectors.toList(). Лучше использовать фабричные методы, за исключением случаев, когда нужно как-либо последовательно обработать и преобразовать данные. Они проще в применении, да и реализация фабричных методов лучше подходил для этого.
__
### Zero-Links
- [[Фабрики коллекций]]

__
### Links
- 


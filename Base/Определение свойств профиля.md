2023-01-2623:08
Tags: #Java #SpringBoot #SpringFramework 

__
# Определение свойств профиля

**Один из способов** - создать еще один YAML-файл свойств, содержащий только свойства, имеющие найстройки, характерные для промышленного окружения. 

Имя файла должно выбираться в соотвествии со следующий соглашением
**application{имя профиля}.yml  или application-{имя профиля}.properties**

Например, создадим новый файл с именем application-prod.yml
```java
spring: datasource: 
	url: jdbc:mysql://localhost/tacocloud 
	username: tacouser 
	password: tacopassword 
logging: 
	level: 
		tacos: WARN

```

**Другой способ** определения свойств профиля основывается исключительно на использовании конфигурации в формате YAML. Он предлагает определение свойств профилей общих свойств в application.yml с разделением тремя дефисами и добавлением свойтв spring.profiles с именами профилей

При таком подходе файл будет выглядеть так:
```java
logging:
	level:
		tacod: DEBUG

---
spring:
	profiles: prod

	datasource:
		url: jdbc:mysql://localhost/tacocloud
		username: tacouser
		password: tacopassword

logging:
	level:
		tacod: WARN
```

После **---** указывается значения для *spring.profiles*, сообщающее что следующие свойства применяются к профилю с именем prod.

С другой стороны, в первом разделе отсутсвует определение свойства *spring.profiles*
Cоответственно, определяем здесь свойства являются общими для всех профилей или используются по умолчанию, если в активном профиле не заданы другие значения!

Независимо от того, какой профиль активен при запуске приложения, уровень журналирования будет установлен в DEGUB, в соотвествии с определением свойства в профиле по умолчанию.

Но если активен профиль prod, то свойство *logging.level.taco* будет переопределено и равно WARN. Также будут изменены свойства источкина данных на использование внешней БД MySQL.

В целом, нет преимуществ между профилями в одном файле и в разных. Единственное, что можно отметить, что для небольшого числа профилей будет норм использовать один файл, но если их много, то лучше несколько файлов.
__
### Zero-Links
- [[Настройка с помощью профилей]]
- [[Работа с конфигурацией]]

__
### Links
- [[Активация профилей]]
- [[Условное создание bean-компонентов для профилей]]


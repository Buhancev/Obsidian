2022-09-2119:56
Tags: #Java #JavaCoreAdvanced #StreamAPI 

__
# Внутренняя и внешняя итерация
При использовании Collection организовать цикл должен пользователь (например for-each); Это называется *внешней итерацией* (external iteration).  В библиотеке поток данных, наоборот, применяется *внутренняя итерация* (internal iteration) - библиотека сама выполняет проход по данным и сохраняет где-то полученные потоковые значения; вам же достаточно указать функцию, которая определяет, что нужно сделать. 

*внешняя итерация*
```java
List<String> names = new ArrayList<>();
for(Dish dish : menu) { //последовательный проход
	names.add(dish.getName()); //извлекаем и добавляем в накопитель
}
```
отметим, что цикл for-each скрывает под собой часть сложности организации цикла, за которым скрывается намного более уродливый код, использующий объект Iterator.
```java
List<String> names = new ArrayList<>();
Iterator<String> iterator = menu.iterator();
while(iterator.hasNext()) {
	Dish dish = iterator.next();
	names.add(dish.getName());
}
```

*внутренняя итерация*
```java
List<String> names = menu.stream()
						 .map(Dish::getName) //параметризация метода map
						 .collect(toList()); //начинаем выполнение конвейера
```

Внутренняя итерация может сама решать где и как оптимизировать код, нам нужно только *потребовать* результат, остальное сделает StreamAPI.

![[Внутренняя и внешняя итерация.png]]


__
### Zero-Links
- [[00 Функциональное программирование с помощью потоков данных]]
- [[00 Потоки данных]]
- [[Потоки данных и коллекции]]




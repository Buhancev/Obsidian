2023-01-2918:45
Tags: #Java #SpringFramework #SpringBoot #RESTful 

__
# Удаление данных на сервере

Когда данные ненужны, клиент должен удалить ресурс, отправив HTTP-запрос DELETE.

Например
```java
@DeleteMapping("/orderId")
@ResponseStatus(HttpStatus.NO_CONTENT)
public void deleteOrder(@PathVariable("orderId") Long orderId) {
	try{
		repo.deleteById(orderId);
	} catch (EmptyResultDataAccessException) {}
}
```
К этому моменту идея еще одной аннотации отображения уже должна быть понятна без лишних пояснений. 

Если заказ существовал на момент вызова этого метода, он будет удален. Если такого заказа в репозитории нет, то будет сгенерировано исключение **EmptyResultDataAccessException**.

Мы просто перехватываем EmptyResultDataAccessException и никак его не обрабатываем. Попытка удалить несуществующий ресурс мало чем отличается от удаления существующего ресурсва - указанные ресурс не будет существовать :) Существовал ли он раньше, не имеет значения (По крайне мере в рамказ задачи TacoCloud). 

Как вариант, можно реализовать deleteOrder так, чтобы он возвращал **ReponseEntity** с пустым телом и кодом состояния **HTTP 404 (NOT FOUND)**

Единственное, на что следует обратить внимание это на **@ReponsoStatus**, гарантирующий возврат кода состояния **HTTP 204 (NO CONTENT)**. Бессмысленно передавать клиенту какие-либо данные о ресурсе, который больше не существует, поэтому ответы на запросы DELETE обычно не имеют тела и, следовательно, должны возвращать код состояния, уведомляющий об отсуствии контента.


__
### Zero-Links
- [[Создание контроллеров RESTful]]

__
### Links
- 


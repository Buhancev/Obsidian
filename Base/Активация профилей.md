2023-01-2716:44
Tags: #Java #SpringFramework #SpringBoot 

__
# Активация профилей

Cамо определение свойств профиля бесполезно, если его не активровать. Но как это сделать? Достаточно включить его в список имен профилей, указанных в свойстве **spring.profiles.active**

```java
spring:
	profiles:
		active:
			-prod
```
Но это худший способ активизировать профиль. Если так сделать, то профиль станет профилем по умолчанию, и мы не получим ни одного из преимуществ использования профилей для настройки конкретных свойствю

Вместо этого **рекомендуется** задавать активные профили с помощью переменных окружения. В промышленном окружении нужно установить переменную **SPRING_PROFILES_ACTIVE**:
```java
# export SPRING_PROFILES_ACTIVE=prod
```

Если приложение запускается как выполняемый JAR файл, можно сделать с помощью командной строки
```java
% java -jar taco-cloud.jar --spring.profiles.active=prod
```

Стоит обратить внимаение на ИМЯ СВОЙСТВА! *profiles* Это значит, что можно указать несколько активных профилей. При назначении активных профилей черех перенную окружения они перечисляются через запятую:
```java
% export SPRING_PROFILES_ACTIVE=prod,audit,ha
```

В файле YAML список должен оформлять так:
```java
spring: 
	profiles: 
		active: 
			-prod
			-audit
			-ha
```

При развертывании в Cloud Foundry автоматичеки активируется профиль с именем cloud. Если используем это окружение, то обязательно нужно определть свойства характерные для этого окружения в профиле cloud.

В профиле, кроме настроей, можно так же объявлять bean-компоненты, специфичные для активного профиля!
__
### Zero-Links
- [[Определение свойств профиля]]
- [[Настройка с помощью профилей]]
- [[Работа с конфигурацией]]

__
### Links
- [[Условное создание bean-компонентов для профилей]]

